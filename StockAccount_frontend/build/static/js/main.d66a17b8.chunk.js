(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,a,t){e.exports=t(302)},159:function(e,a,t){},297:function(e,a,t){},302:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(6),o=t.n(s),l=(t(159),t(151)),i=t(48),c=t(56),u=t.n(c),m=t(79),d=t(14),p=t(15),h=t(18),f=t(16),g=t(19),b=t(141),v=t.n(b),y=t(9),E=y.api,_=function(e){function a(){return Object(d.a)(this,a),Object(h.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E+"/user_login_status",{method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0!==e.status&&(document.location.href="#/login")}).catch(function(e){console.error(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Home"),r.a.createElement(v.a,{type:"primary"},"Button"))}}]),a}(r.a.Component),P=t(306),w=t(308),S=t(11),j=t(312),C=t(42),O=y.api,k=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(f.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(e)console.error(e),t.setState({message:e.message,messageColor:"red"});else{a.remember_status=a.remember_status?1:0;var n=new URLSearchParams;Object.keys(a).forEach(function(e){n.append(e,a[e])}),fetch(O+"/user_login",{body:n,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?document.location.href="#/":t.setState({message:e.message,messageColor:"red"})}).catch(function(e){console.error(e),t.setState({message:e.message,messageColor:"red"})})}})},t.state={message:"",messageColor:"red"},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(P.a.Item,null,e("account_id",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(S.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(P.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(S.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(P.a.Item,null,e("remember_status",{valuePropName:"checked",initialValue:!0})(r.a.createElement(j.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:"#/adminLogin"},"Admin User"),r.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("p",null,r.a.createElement("font",{color:this.state.messageColor},this.state.message))))}}]),a}(r.a.Component),I=P.a.create({name:"normal_login"})(k);var U=function(){return r.a.createElement("div",{id:"components-form-demo-normal-login"},r.a.createElement(I,null))},L=t(305),D=t(307),T=t(309),A=t(310),z=t(303),q=t(311),N=t(304),F=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll(function(e,a){e||t.props.handle(a)})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this,a=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return r.a.createElement(P.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(P.a.Item,{label:"ID"},a("account_id",{rules:[{required:!0,message:"Please input your ID!"}],initialValue:this.props.values.account_id?this.props.values.account_id:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),function(){if(e.props.isChange)return r.a.createElement(P.a.Item,{label:"Password",hasFeedback:!0},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:e.validateToNextPassword}]})(r.a.createElement(w.a.Password,null)))}(),function(){if(e.props.isChange)return r.a.createElement(P.a.Item,{label:"Confirm Password",hasFeedback:!0},a("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:e.compareToFirstPassword}]})(r.a.createElement(w.a.Password,{onBlur:e.handleConfirmBlur})))}(),r.a.createElement(P.a.Item,{label:"Legal Number"},a("legal_num",{rules:[{required:!0,message:"Please input your Legal Number!",whitespace:!0}],initialValue:this.props.values.legal_num?this.props.values.legal_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"License Number"},a("license_num",{rules:[{required:!0,message:"Please input your License Number!",whitespace:!0}],initialValue:this.props.values.license_num?this.props.values.license_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Legal Name"},a("legal_name",{rules:[{required:!0,message:"Please input your Legal Name!",whitespace:!0}],initialValue:this.props.values.legal_name?this.props.values.legal_name:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Legal ID"},a("legal_id_num",{rules:[{required:!0,message:"Please input your Legal ID!",whitespace:!0}],initialValue:this.props.values.legal_id_num?this.props.values.legal_id_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Legal Address"},a("legal_address",{rules:[{required:!0,message:"Please input your Legal Address!",whitespace:!0}],initialValue:this.props.values.legal_address?this.props.values.legal_address:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Legal Phone"},a("legal_phone",{rules:[{required:!0,message:"Please input your Legal Phone!",whitespace:!0}],initialValue:this.props.values.legal_phone?this.props.values.legal_phone:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Authorize Phone"},a("authorize_name",{rules:[{required:!0,message:"Please input your Authorize Phone!",whitespace:!0}],initialValue:this.props.values.authorize_name?this.props.values.authorize_name:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Authorize ID"},a("authorize_id_num",{rules:[{required:!0,message:"Please input your Authorize ID!",whitespace:!0}],initialValue:this.props.values.authorize_id_num?this.props.values.authorize_id_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Authorize Address"},a("authorize_address",{rules:[{required:!0,message:"Please input your Authorize Address!",whitespace:!0}],initialValue:this.props.values.authorize_address?this.props.values.authorize_address:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Authorize Phone"},a("authorize_phone",{rules:[{required:!0,message:"Please input your Authorize Phone!",whitespace:!0}],initialValue:this.props.values.authorize_phone?this.props.values.authorize_phone:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),function(){if(e.props.isSubmit)return r.a.createElement(P.a.Item,t,r.a.createElement(C.a,{type:"primary",htmlType:"submit"},e.props.button))}())}}]),a}(r.a.Component);F.defaultProps={isSubmit:!0,button:"Register",values:{},isChange:!0,handle:function(e){console.log(e)}};var V=P.a.create({name:"register"})(F),x=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,agency:!!t.props.values.agency&&t.props.values.agency},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll(function(e,a){e||t.props.handle(a)})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},t.onAgencyChange=function(e){t.setState({agency:!t.state.agency})},t.componentWillReceiveProps=function(e){t.setState({agency:!!e.values.agency&&e.values.agency})},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this,a=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return r.a.createElement(P.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(P.a.Item,{label:"ID"},a("account_id",{rules:[{required:!0,message:"Please input your ID!"}],initialValue:this.props.values.account_id?this.props.values.account_id:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),function(){if(e.props.isChange)return r.a.createElement(P.a.Item,{label:"Password",hasFeedback:!0},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:e.validateToNextPassword}]})(r.a.createElement(w.a.Password,null)))}(),function(){if(e.props.isChange)return r.a.createElement(P.a.Item,{label:"Confirm Password",hasFeedback:!0},a("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:e.compareToFirstPassword}]})(r.a.createElement(w.a.Password,{onBlur:e.handleConfirmBlur})))}(),r.a.createElement(P.a.Item,{label:"Name"},a("name",{rules:[{required:!0,message:"Please input your Name!",whitespace:!0}],initialValue:this.props.values.name?this.props.values.name:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Gender"},a("gender",{rules:[{required:!0,message:"Please input your Gender!",whitespace:!0}],initialValue:this.props.values.gender?this.props.values.gender:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"ID Number"},a("id_num",{rules:[{required:!0,message:"Please input your ID Number!",whitespace:!0}],initialValue:this.props.values.id_num?this.props.values.id_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Address"},a("address",{rules:[{required:!0,message:"Please input your Address!",whitespace:!0}],initialValue:this.props.values.address?this.props.values.address:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Job"},a("job",{rules:[{required:!0,message:"Please input your Job!",whitespace:!0}],initialValue:this.props.values.job?this.props.values.job:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Degree"},a("degree",{rules:[{required:!0,message:"Please input your Degree!",whitespace:!0}],initialValue:this.props.values.degree?this.props.values.degree:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Organization"},a("organization",{rules:[{required:!0,message:"Please input your Organization!",whitespace:!0}],initialValue:this.props.values.organization?this.props.values.organization:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),r.a.createElement(P.a.Item,{label:"Phone Number"},a("phone_num",{rules:[{required:!0,message:"Please input your Phone Number!",whitespace:!0}],initialValue:this.props.values.phone_num?this.props.values.phone_num:""})(r.a.createElement(w.a,{disabled:!this.props.isChange}))),function(){if(e.props.isChange)return r.a.createElement(P.a.Item,{label:"Agency"},a("agency",{initialValue:!!e.props.values.agency&&e.props.values.agency})(r.a.createElement(j.a,{onChange:e.onAgencyChange},"agency")))}(),function(){if(e.state.agency)return r.a.createElement(P.a.Item,{label:"Agent ID"},a("agent_id_num",{rules:[{required:!0,message:"Please input your Agent ID!",whitespace:!0}],initialValue:e.props.values.agent_id_num?e.props.values.agent_id_num:""})(r.a.createElement(w.a,{disabled:!e.props.isChange})))}(),function(){if(e.props.isSubmit)return r.a.createElement(P.a.Item,t,r.a.createElement(C.a,{type:"primary",htmlType:"submit"},e.props.button))}())}}]),a}(r.a.Component);x.defaultProps={isSubmit:!0,button:"Register",values:{},isChange:!0,handle:function(e){console.log(e)}};var R=P.a.create({name:"register"})(x),B=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(s)))).state={type:"Personal"},t.handleTypeChange=function(e){t.setState({type:e.target.value})},t.handleLegalForm=function(e){var a=new URLSearchParams;Object.keys(e).forEach(function(t){a.append(t,e[t])}),fetch(y.api+"/legal_user_add_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?A.a.success(e.message):A.a.error(e.message)}).catch(function(e){console.error(e),A.a.error(e.message)})},t.handlePersonalForm=function(e){var a=new URLSearchParams;Object.keys(e).forEach(function(t){a.append(t,e[t])}),fetch(y.api+"/personal_user_add_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?A.a.success(e.message):A.a.error(e.message)}).catch(function(e){console.error(e),A.a.error(e.message)})},t.Form=function(){switch(t.state.type){case"Personal":return r.a.createElement(R,{handle:t.handlePersonalForm});case"Legal":return r.a.createElement(V,{handle:t.handleLegalForm});default:return r.a.createElement(R,{handle:t.handlePersonalForm})}},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this.state.type,a=this.Form();return r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(q.a.Group,{value:e,defaultValue:"a",onChange:this.handleTypeChange},r.a.createElement(q.a.Button,{value:"Personal"},"\u4e2a\u4eba\u7528\u6237"),r.a.createElement(q.a.Button,{value:"Legal"},"\u6cd5\u4eba\u7528\u6237"))),r.a.createElement(z.a,null,r.a.createElement(N.a,{span:12,offset:6},a)))}}]),a}(r.a.Component),W=w.a.Search,J=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={status:0,user:{}},t.findPersonalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/personal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:1,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findLegalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/legal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:2,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(a){0===a.status?"Legal"===a.user.account_type?t.findLegalUser(e):t.findPersonalUser(e):A.a.error("User ID not found")}).catch(function(e){console.error(e),A.a.error(e.message)})},t.deleteUser=function(e){var a=e.account_id,n=new URLSearchParams;n.append("account_id",a),fetch(y.api+"/user_delete_by_banker",{body:n,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?(A.a.success(e.message),t.setState({status:0,user:{}})):A.a.error(e.message)}).catch(function(e){console.error(e),A.a.error(e.message)})},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(N.a,{span:6},r.a.createElement(W,{placeholder:"input Account ID",enterButton:"Search",size:"large",onSearch:function(a){e.findUser(a)}}))),r.a.createElement(z.a,null,r.a.createElement(N.a,{span:12,offset:6},1===e.state.status?r.a.createElement(R,{handle:e.deleteUser,isSubmit:!0,button:"Delete",values:e.state.user,isChange:!1}):2===e.state.status?r.a.createElement(V,{handle:e.deleteUser,isSubmit:!0,button:"Delete",values:e.state.user,isChange:!1}):void 0)))}}]),a}(r.a.Component),M=w.a.Search,G=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={status:0,user:{}},t.findPersonalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/personal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:1,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findLegalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/legal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:2,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(a){if(0===a.status){var n=a.user;"Normal"!==n.status?A.a.error("User is Locked"):"Legal"===n.account_type?t.findLegalUser(e):t.findPersonalUser(e)}else A.a.error("User ID not found")}).catch(function(e){console.error(e),A.a.error(e.message)})},t.lockUser=function(e){var a=e.account_id,n=new URLSearchParams;n.append("account_id",a),fetch(y.api+"/user_freeze_by_banker",{body:n,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?(A.a.success(e.message),t.setState({status:0,user:{}})):A.a.error(e.message)}).catch(function(e){console.error(e),A.a.error(e.message)})},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(N.a,{span:6},r.a.createElement(M,{placeholder:"input Account ID",enterButton:"Search",size:"large",onSearch:function(a){e.findUser(a)}}))),r.a.createElement(z.a,null,r.a.createElement(N.a,{span:12,offset:6},1===e.state.status?r.a.createElement(R,{handle:e.lockUser,isSubmit:!0,button:"Lock",values:e.state.user,isChange:!1}):2===e.state.status?r.a.createElement(V,{handle:e.lockUser,isSubmit:!0,button:"Lock",values:e.state.user,isChange:!1}):void 0)))}}]),a}(r.a.Component),H=w.a.Search,K=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={status:0,user:{}},t.findPersonalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/personal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:1,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findLegalUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/legal_user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){t.setState({status:2,user:e})}).catch(function(e){A.a.error(e.message),console.error(e)})},t.findUser=function(e){var a=new URLSearchParams;a.append("account_id",e),fetch(y.api+"/user_find_by_banker",{body:a,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(a){if(0===a.status){var n=a.user;"Normal"===n.status?A.a.error("User is Unlocked"):"Legal"===n.account_type?t.findLegalUser(e):t.findPersonalUser(e)}else A.a.error("User ID not found")}).catch(function(e){console.error(e),A.a.error(e.message)})},t.unlockUser=function(e){var a=e.account_id,n=new URLSearchParams;n.append("account_id",a),fetch(y.api+"/user_unfreeze_by_banker",{body:n,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?(A.a.success(e.message),t.setState({status:0,user:{}})):A.a.error(e.message)}).catch(function(e){console.error(e),A.a.error(e.message)})},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(N.a,{span:6},r.a.createElement(H,{placeholder:"input Account ID",enterButton:"Search",size:"large",onSearch:function(a){e.findUser(a)}}))),r.a.createElement(z.a,null,r.a.createElement(N.a,{span:12,offset:6},1===e.state.status?r.a.createElement(R,{handle:e.unlockUser,isSubmit:!0,button:"Unlock",values:e.state.user,isChange:!1}):2===e.state.status?r.a.createElement(V,{handle:e.unlockUser,isSubmit:!0,button:"Unlock",values:e.state.user,isChange:!1}):void 0)))}}]),a}(r.a.Component),Y=L.a.Header,$=L.a.Sider,Q=L.a.Content,X=y.api;var Z=r.a.createElement(D.b,{onClick:function(e){document.location.href="#/adminLogin"}},r.a.createElement(D.b.Item,null,"\u767b\u51fa")),ee=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(s)))).state={collapsed:!1,user:"",key:"1"},t.toggle=function(){t.setState({collapsed:!t.state.collapsed})},t.handleMenuClick=function(e){t.setState({key:e.key})},t.Page=function(){switch(t.state.key){case"1":return r.a.createElement(B,null);case"2":return r.a.createElement(J,null);case"3":return r.a.createElement(G,null);case"4":return r.a.createElement(K,null);default:return r.a.createElement(B,null)}},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var a=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(X+"/banker_login_status",{method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0!==e.status?document.location.href="#/adminLogin":a.setState({user:e.message})}).catch(function(e){console.error(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.Page();return r.a.createElement("div",{id:"components-layout-demo-custom-trigger"},r.a.createElement(L.a,null,r.a.createElement($,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"},r.a.createElement("strong",null,"\u80a1\u7968\u4ea4\u6613\u7cfb\u7edf")),r.a.createElement(D.b,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onClick:this.handleMenuClick},r.a.createElement(D.b.Item,{key:"1"},r.a.createElement(S.a,{type:"user-add"}),r.a.createElement("span",null,"\u5f00\u6237")),r.a.createElement(D.b.Item,{key:"2"},r.a.createElement(S.a,{type:"user-delete"}),r.a.createElement("span",null,"\u9500\u6237")),r.a.createElement(D.b.Item,{key:"3"},r.a.createElement(S.a,{type:"lock"}),r.a.createElement("span",null,"\u6302\u5931")),r.a.createElement(D.b.Item,{key:"4"},r.a.createElement(S.a,{type:"unlock"}),r.a.createElement("span",null,"\u91cd\u65b0\u5f00\u6237")))),r.a.createElement(L.a,null,r.a.createElement(Y,{style:{background:"#fff",padding:0}},r.a.createElement(S.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),r.a.createElement("div",{style:{float:"right",paddingRight:"30px"}},r.a.createElement(T.a,{overlay:Z,placement:"bottomRight"},r.a.createElement("div",{style:{cursor:"pointer"}},r.a.createElement("span",{style:{paddingRight:"3px"}},this.state.user),r.a.createElement(S.a,{type:"user"}))))),r.a.createElement(Q,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280,overflowY:"auto"}},e))))}}]),a}(r.a.Component),ae=y.api,te=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(f.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(e)console.error(e),t.setState({message:e.message,messageColor:"red"});else{a.remember_status=a.remember_status?1:0;var n=new URLSearchParams;Object.keys(a).forEach(function(e){n.append(e,a[e])}),fetch(ae+"/banker_login",{body:n,method:"POST",credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){0===e.status?document.location.href="#/admin":t.setState({message:e.message,messageColor:"red"})}).catch(function(e){console.error(e),t.setState({message:e.message,messageColor:"red"})})}})},t.state={message:"",messageColor:"red"},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(P.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(P.a.Item,null,e("user_id",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(S.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(P.a.Item,null,e("user_password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(S.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(P.a.Item,null,e("remember_status",{valuePropName:"checked",initialValue:!0})(r.a.createElement(j.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:"#/login"},"Normal User"),r.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("p",null,r.a.createElement("font",{color:this.state.messageColor},this.state.message))))}}]),a}(r.a.Component),ne=P.a.create({name:"admin_login"})(te);var re=function(){return r.a.createElement("div",{id:"components-form-demo-normal-login"},r.a.createElement(ne,null))};t(297);var se=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:_}),r.a.createElement(i.a,{path:"/login",component:U}),r.a.createElement(i.a,{path:"/admin",component:ee}),r.a.createElement(i.a,{path:"/adminlogin",component:re}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e){e.exports={api:"http://localhost:8080"}}},[[154,1,2]]]);
//# sourceMappingURL=main.d66a17b8.chunk.js.map